<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todolist</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fascinate&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <button type="button" class="circle-btn" id="openAdd">
      <img class="circle-img" src="./img/circle.svg" alt="imgCircle" />
    </button>
    <h1 class="todo">
      TO-DO
    </h1>

    <div id="taskGroup">
      <div class="task-item">
        <span class="task-title">TASK ITEM</span>
        <button type="button" class="check-btn" ></button>
      </div>
      <div class="task-item">
        <span class="task-title">TASK ITEM</span>
        <button type="button" class="check-btn" ></button>
      </div>
    </div>

    <!-- add wrapper -->
    <div class="add-wrapper" id="addModal">
      <button type="button" class="close-btn" id="closeAdd">
        <img src="./img/close.svg" alt="imgClose" width="40px" />
      </button>
      <div class="add">
        ADD
      </div>
      <form id="addToDo">
        <div class="new-to-do">
          <input
            type="text"
            class="newtodo"
            id="newto"
            placeholder="A NEW TO-DO HERE"
          />
        </div>
        <button type="submit" class="save">
          SAVE
        </button>
      </form>
    </div>

    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

    <script>
      $('#addToDo').on('submit', function (e) {
        e.preventDefault()

        const temp = `<div class="task-item">
          <span class="task-title">${$('#newto').val()}</span>
          <button type="button" class="check-btn">
          </button>
          </div>`

        $('#taskGroup').append(temp)
        $('#addModal').hide()
        $('#newto').val('')
      })

      $('#openAdd').on('click', function () {
        $('#addModal').show()
      })

      $('#closeAdd').on('click', function () {
        $('#addModal').hide()
      })

      $('.check-btn').on('click', function() {
        
        if ($(this).parent().hasClass("complete")){
          $(this).parent().removeClass('complete');
        }
        else{
          $(this).parent().addClass('complete');
        }
      })

     



      // 2020-07-10
      // check-btn 버튼에 클릭 이벤트
      // 버튼 부모 task-item에 complete class가 있으면 complete class remove
      // 버튼 부모 task-item에 complete class가 없으면 complete class add
      // jQuery this 개념 이해 필요
      // https://wonjuman.tistory.com/20
      //jqury parent -> 부모 객체 선택하는 법
      // https://www.codingfactory.net/10338
    </script>
  </body>
</html>
